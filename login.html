<!DOCTYPE html> 
<html>
<meta charset="UTF-8">
<head> 
	<title>RambleOnline - Login</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="assets/css/jquery.mobile-1.2.0.min.css" />
	<link rel="stylesheet" href="assets/css/core.css" />
	<link rel="stylesheet" href="assets/css/menus.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/map_core.css" />
	<script type="text/javascript" charset="utf-8" src="assets/js/cordova-2.1.0.js"></script>
	<script src="assets/js/jquery-1.8.2.min.js"></script>
	<script src="assets/js/jquery-mobile-config.js"></script>
	<script src="assets/js/jquery.mobile-1.2.0.min.js"></script>
	

	

</head> 
<body>
<div data-role="page" id="loginPage">
	<script type="text/javascript">
		$(document).ready(function(){
			redirectLoggedIn()
			$('#loginPage').bind("pageshow", function() {
				redirectLoggedIn()
			});

			clearImageLocalStorage()
			
		});

		function sendLoginFormData(){
			if(validateLoginForm($('#loginMessage'))){
				data = [$('#loginUser').val(), $('#loginPass').val()]
				sendLogin(data, $('#loginMessage'))
			}
			
		}

		function validateLoginForm(messageTarget){
			return validateField($('#loginUser'), 'Username', messageTarget, 'alphanum', true, 4, 20) &&
				validateField($('#loginPass'), 'Password', messageTarget, 'password', true, 4, 40)
		}

		
	</script>

	<div data-role="header" data-theme="d">
		<!--a href="home.html" data-rel="back" data-icon="back" data-iconpos="notext">Back</a-->
		<h1>Login</h1>
		<!--a href="settings.html" data-role="button" data-icon="gear" data-iconpos="notext" class="ui-btn-right"></a-->
	</div><!-- /header -->

	<div data-role="content" class="ui-content">
		<div class="rambleon_logo_login">
			<img src="assets/images/rambleon_logo_cropped.png" width="100%" /><br />
			<b>www.rambleonline.com</b>
		</div><br />
		<div style="width:80%; margin:0 auto">
			<form>
				Username: <input type="text" name="user" id="loginUser" >
				Password: <input type="password" name="password" id="loginPass">
				<p id="loginMessage" class="errorMessage">&nbsp;</p>
			</form>

			<button onClick="sendLoginFormData();" name="Send" data-theme="a">Login</button><br />
			<a href="register.html" data-role="button" data-theme="a" data-icon="plus" data-mini="true">Create Account</a>
			<a href="forgot.html" data-role="button" data-theme="a" data-icon="info" data-mini="true">Forgot Password</a>
		</div>


	</div><!-- /content -->

	

	<div data-role="footer" class="ui-bar ui-footer" data-position="fixed">

		<a href="#login-menu" id="login-menubtn" data-rel="popup" data-mini="true">Menu</a>		
			<div data-role="popup" class="popupMenu" id="login-menu">
				<ul data-role="listview" data-inset="true" data-mini="true">
					<li data-role="divider">Menu</li>
					<li data-icon="delete" data-theme="d"><a href="#" onClick="navigator.app.exitApp()">Exit App</a></li>
				</ul>
			</div>

	</div><!-- /footer -->
</div><!-- /page -->

	<script src="assets/js/ajaxrequests.js"></script>
	
	<script src="assets/js/utilities.js"></script>

	<script type="text/javascript"
      src="http://maps.googleapis.com/maps/api/js?libraries=drawing&key=AIzaSyA1Oz8ZnLZ_mfkby54M_sdRzh8EAfAyRNA&sensor=true">
	</script>

	<script type="text/javascript" src="assets/js/oms.min.js"></script>

	
	<script src="assets/js/map_core.js"></script>

</body>
</html>